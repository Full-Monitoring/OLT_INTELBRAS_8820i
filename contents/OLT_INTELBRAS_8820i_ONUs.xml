<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2021-08-03T12:02:19Z</date>
    <groups>
        <group>
            <name>OLT INTELBRAS GPON</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>OLT_INTELBRAS_8820i_ONUs</template>
            <name>OLT_INTELBRAS_8820i_ONUs</name>
            <description>Contagem de ONUs por PON</description>
            <groups>
                <group>
                    <name>OLT INTELBRAS GPON</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>contador</name>
                </application>
                <application>
                    <name>geral</name>
                </application>
                <application>
                    <name>interface</name>
                </application>
                <application>
                    <name>rx power</name>
                </application>
                <application>
                    <name>status</name>
                </application>
                <application>
                    <name>temperatura</name>
                </application>
                <application>
                    <name>traffic in</name>
                </application>
                <application>
                    <name>traffic out</name>
                </application>
                <application>
                    <name>tx power</name>
                </application>
                <application>
                    <name>voltagem</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>PON 1</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon1</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '1' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 2</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon2</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '2' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 3</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon3</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '3' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 4</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon4</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '4' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 5</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon5</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '5' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 6</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon6</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '6' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 7</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon7</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '7' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>PON 8</name>
                    <type>DEPENDENT</type>
                    <key>contador.pon8</key>
                    <delay>0</delay>
                    <history>30d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>contador</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.[?(@.PON == '8' &amp;&amp; @.REG == '1')].length()</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>contagem.onus</key>
                    </master_item>
                </item>
                <item>
                    <name>Contagem de ONUs</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#REG},1.3.6.1.4.1.26138.1.2.1.1.1.4, {#PON},1.3.6.1.4.1.26138.1.2.1.1.1.2]</snmp_oid>
                    <key>contagem.onus</key>
                    <delay>10m</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <params>{#REG}
REG</params>
                        </step>
                        <step>
                            <type>STR_REPLACE</type>
                            <params>{#PON}
PON</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>CPU</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.2021.11.9.0</snmp_oid>
                    <key>cpuUsage</key>
                    <delay>3m</delay>
                    <trends>90d</trends>
                    <units>%</units>
                    <description>Memória RAM Livre em KBytes</description>
                    <applications>
                        <application>
                            <name>geral</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Memoria Livre</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.2021.4.6.0</snmp_oid>
                    <key>memFree</key>
                    <delay>5m</delay>
                    <trends>90d</trends>
                    <units>KB</units>
                    <description>Memória RAM Livre em KBytes</description>
                    <applications>
                        <application>
                            <name>geral</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Memoria Total</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.2021.4.5.0</snmp_oid>
                    <key>memTotal</key>
                    <delay>1h</delay>
                    <trends>90d</trends>
                    <units>KB</units>
                    <description>Memória RAM total em KBytes</description>
                    <applications>
                        <application>
                            <name>geral</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Uptime</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>uptime</key>
                    <trends>90d</trends>
                    <units>uptime</units>
                    <description>Tempo online do sistema</description>
                    <applications>
                        <application>
                            <name>geral</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.01</params>
                        </step>
                    </preprocessing>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Discovery Interfaces (eth)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#NAME},1.3.6.1.4.1.26138.1.1.1.1.1.2]</snmp_oid>
                    <key>discovery.interfaces.eth</key>
                    <delay>3m</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#NAME}</macro>
                                <value>^eth</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>0d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Interface Status - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>interface.eth.status[{#NAME}]</key>
                            <delay>3m</delay>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>status</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery Interfaces (gpon)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#NAME},1.3.6.1.4.1.26138.1.1.1.1.1.2]</snmp_oid>
                    <key>discovery.interfaces.gpon</key>
                    <delay>3m</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#NAME}</macro>
                                <value>gpon</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>0d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Interface Status - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>interface.gpon.status[{#NAME}]</key>
                            <delay>2m</delay>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>status</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface SFP Rx Power - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.26138.1.1.1.1.1.10.{#SNMPINDEX}</snmp_oid>
                            <key>sfpStatusIfRxPower[{#NAME}]</key>
                            <delay>3m</delay>
                            <value_type>FLOAT</value_type>
                            <units>dBm</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>rx power</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>0.1</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface SFP Temperatura - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.26138.1.1.1.1.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>sfpStatusIfTemperature[{#NAME}]</key>
                            <delay>10m</delay>
                            <units>°C</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>temperatura</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface SFP Tx Bias - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.26138.1.1.1.1.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>sfpStatusIfTxBias[{#NAME}]</key>
                            <delay>10m</delay>
                            <units>mA</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>temperatura</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface SFP Tx Power - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.26138.1.1.1.1.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>sfpStatusIfTxPower[{#NAME}]</key>
                            <delay>3m</delay>
                            <value_type>FLOAT</value_type>
                            <units>dBm</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>tx power</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>0.1</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface SFP Voltagem - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.26138.1.1.1.1.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>sfpStatusIfVoltage[{#NAME}]</key>
                            <delay>10m</delay>
                            <units>V</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>voltagem</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery Interfaces Satus Up</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#NAME},1.3.6.1.4.1.26138.1.1.1.1.1.2, {#STATUS},1.3.6.1.2.1.2.2.1.8]</snmp_oid>
                    <key>discovery.interfaces.up</key>
                    <delay>20s</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#STATUS}</macro>
                                <value>1</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>0d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Interface Traffic In - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>interface.trafic.in[{#NAME}]</key>
                            <delay>30s</delay>
                            <trends>90d</trends>
                            <units>bps</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>traffic in</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface Traffic Out - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.2.1.31.1.1.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>interface.trafic.out.[{#NAME}]</key>
                            <delay>30s</delay>
                            <trends>90d</trends>
                            <units>bps</units>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>traffic out</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery Interfaces (xeth)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#NAME},1.3.6.1.4.1.26138.1.1.1.1.1.2]</snmp_oid>
                    <key>discovery.interfaces.xeth</key>
                    <delay>3m</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#NAME}</macro>
                                <value>^xeth</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>0d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Interface Status - {#NAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>interface.xeth.status[{#NAME}]</key>
                            <delay>3m</delay>
                            <description>1 = ativo&#13;
2 = inativo</description>
                            <applications>
                                <application>
                                    <name>interface</name>
                                </application>
                                <application>
                                    <name>status</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
</zabbix_export>
